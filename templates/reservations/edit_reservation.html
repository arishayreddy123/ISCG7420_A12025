{% extends "base.html" %}
{% block title %}Edit Reservation{% endblock %}

{% block content %}
  <h2>Edit Reservation for {{ res.room.name }}</h2>
  <div class="field">
    <label for="date">Select date:</label>
    <input type="date" id="date" name="date" value="{{ sel_date }}" min="{{ min_date }}"
           onchange="location='?date='+this.value">
  </div>
  <form method="post">
    {% csrf_token %}
    <label>Choose time slot:</label>
    <select name="time_slot">
      {% for slot in slots %}
        {% if slot.free or slot.start == res.start_time %}
          <option value="{{ slot.start|date:'c' }}|{{ slot.end|date:'c' }}"
                  {% if slot.start == res.start_time %}selected{% endif %}>
            {{ slot.start|time:"H:i" }}â€“{{ slot.end|time:"H:i" }}
          </option>
        {% endif %}
      {% endfor %}
    </select>
    <div class="actions">
      <button class="button primary">Save</button>
      <a class="button" href="{% url 'reservations:my_reservations' %}">Cancel</a>
    </div>
  </form>
{% endblock %}
